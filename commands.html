<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Commands &mdash; SkoolKit 6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="SkoolKit 6.0 documentation" href="index.html" />
    <link rel="next" title="Supported assemblers" href="assemblers.html" />
    <link rel="prev" title="Disassembly DIY" href="diy.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="assemblers.html" title="Supported assemblers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="diy.html" title="Disassembly DIY"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">SkoolKit 6.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Commands</a><ul>
<li><a class="reference internal" href="#bin2sna-py">bin2sna.py</a></li>
<li><a class="reference internal" href="#bin2tap-py">bin2tap.py</a></li>
<li><a class="reference internal" href="#skool2asm-py">skool2asm.py</a></li>
<li><a class="reference internal" href="#skool2bin-py">skool2bin.py</a></li>
<li><a class="reference internal" href="#skool2ctl-py">skool2ctl.py</a></li>
<li><a class="reference internal" href="#skool2html-py">skool2html.py</a></li>
<li><a class="reference internal" href="#skool2sft-py">skool2sft.py</a></li>
<li><a class="reference internal" href="#sna2img-py">sna2img.py</a></li>
<li><a class="reference internal" href="#sna2skool-py">sna2skool.py</a></li>
<li><a class="reference internal" href="#snapinfo-py">snapinfo.py</a></li>
<li><a class="reference internal" href="#snapmod-py">snapmod.py</a></li>
<li><a class="reference internal" href="#tap2sna-py">tap2sna.py</a></li>
<li><a class="reference internal" href="#tapinfo-py">tapinfo.py</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="diy.html"
                        title="previous chapter">Disassembly DIY</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="assemblers.html"
                        title="next chapter">Supported assemblers</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/commands.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="commands">
<span id="id1"></span><h1>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h1>
<div class="section" id="bin2sna-py">
<span id="id2"></span><h2>bin2sna.py<a class="headerlink" href="#bin2sna-py" title="Permalink to this headline">¶</a></h2>
<p><cite>bin2sna.py</cite> converts a binary (raw memory) file into a Z80 snapshot. For
example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ bin2sna.py game.bin
</pre></div>
</div>
<p>will create a file named <cite>game.z80</cite>. By default, the origin address (the
address of the first byte of code or data), the start address (the first byte
of code to run) and the stack pointer are set to 65536 minus the length of
<cite>game.bin</cite>. These values can be changed by passing options to <cite>bin2sna.py</cite>. Run
it with no arguments to see the list of available options:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: bin2sna.py [options] file.bin [file.z80]

Convert a binary (raw memory) file into a Z80 snapshot. &#39;file.bin&#39; may be a
regular file, or &#39;-&#39; for standard input. If &#39;file.z80&#39; is not given, it
defaults to the name of the input file with &#39;.bin&#39; replaced by &#39;.z80&#39;, or
&#39;program.z80&#39; if reading from standard input.

Options:
  -b BORDER, --border BORDER
                        Set the border colour (default: 7)
  -o ORG, --org ORG     Set the origin address (default: 65536 minus the
                        length of file.bin)
  -p STACK, --stack STACK
                        Set the stack pointer (default: ORG)
  -s START, --start START
                        Set the address at which to start execution (default:
                        ORG)
  -V, --version         Show SkoolKit version number and exit
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.2</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bin2tap-py">
<span id="id3"></span><h2>bin2tap.py<a class="headerlink" href="#bin2tap-py" title="Permalink to this headline">¶</a></h2>
<p><cite>bin2tap.py</cite> converts a binary (raw memory) file or a SNA, SZX or Z80 snapshot
into a TAP file. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ bin2tap.py game.bin
</pre></div>
</div>
<p>will create a file called <cite>game.tap</cite>. By default, the origin address (the
address of the first byte of code or data), the start address (the first byte
of code to run) and the stack pointer are set to 65536 minus the length of
<cite>game.bin</cite>. These values can be changed by passing options to <cite>bin2tap.py</cite>. Run
it with no arguments to see the list of available options:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: bin2tap.py [options] FILE [file.tap]

Convert a binary (raw memory) file or a SNA, SZX or Z80 snapshot into a TAP
file. FILE may be a regular file, or &#39;-&#39; to read a binary file from standard
input.

Options:
  -c N, --clear N       Use a &#39;CLEAR N&#39; command in the BASIC loader and leave
                        the stack pointer alone
  -e ADDR, --end ADDR   Set the end address when reading a snapshot
  -o ORG, --org ORG     Set the origin address (default: 16384 for a snapshot,
                        otherwise 65536 minus the length of FILE)
  -p STACK, --stack STACK
                        Set the stack pointer (default: ORG)
  -s START, --start START
                        Set the start address to JP to (default: ORG)
  -S FILE, --screen FILE
                        Add a loading screen to the TAP file; FILE may be a
                        snapshot or a 6912-byte SCR file
  -V, --version         Show SkoolKit version number and exit
</pre></div>
</div>
<p>Note that the ROM tape loading routine at 1366 ($0556) and the load routine
used by <cite>bin2tap.py</cite> together require 14 bytes for stack operations, and so
STACK must be at least 16384+14=16398 ($400E). This means that if ORG is less
than 16398, you should use the <tt class="docutils literal"><span class="pre">-p</span></tt> option to set the stack pointer to
something appropriate. If the main data block (derived from <cite>game.bin</cite>)
overlaps any of the last four bytes of the stack, <cite>bin2tap.py</cite> will replace
those bytes with the values required by the tape loading routine for correct
operation upon returning. Stack operations will overwrite the bytes in the
address range STACK-14 to STACK-1 inclusive, so those addresses should not be
used to store essential code or data.</p>
<p>If the input file contains a program that returns to BASIC, you should use the
<tt class="docutils literal"><span class="pre">--clear</span></tt> option to add a CLEAR command to the BASIC loader. This option
leaves the stack pointer alone, enabling the program to return to BASIC without
crashing. The lowest usable address with the <tt class="docutils literal"><span class="pre">--clear</span></tt> option on a bare 48K
Spectrum is 23952 ($5D90).</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.3</td>
<td>Added the <tt class="docutils literal"><span class="pre">--screen</span></tt> option</td>
</tr>
<tr class="row-odd"><td>5.2</td>
<td>Added the ability to read a binary file from standard input;
added a second positional argument specifying the TAP filename</td>
</tr>
<tr class="row-even"><td>4.5</td>
<td>Added the <tt class="docutils literal"><span class="pre">--clear</span></tt> and <tt class="docutils literal"><span class="pre">--end</span></tt> options, and the ability to
convert SNA, SZX and Z80 snapshots</td>
</tr>
<tr class="row-odd"><td>3.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-V</span></tt> option and the long options</td>
</tr>
<tr class="row-even"><td>2.2.5</td>
<td>Added the <tt class="docutils literal"><span class="pre">-p</span></tt> option</td>
</tr>
<tr class="row-odd"><td>1.3.1</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="skool2asm-py">
<span id="id4"></span><h2>skool2asm.py<a class="headerlink" href="#skool2asm-py" title="Permalink to this headline">¶</a></h2>
<p><cite>skool2asm.py</cite> converts a skool file into an ASM file that can be fed to an
assembler (see <a class="reference internal" href="assemblers.html#supportedassemblers"><em>Supported assemblers</em></a>). For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ skool2asm.py game.skool &gt; game.asm
</pre></div>
</div>
<p><cite>skool2asm.py</cite> supports many options; run it with no arguments to see a list:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: skool2asm.py [options] FILE

Convert a skool file into an ASM file and write it to standard output. FILE may
be a regular file, or &#39;-&#39; for standard input.

Options:
  -c, --create-labels   Create default labels for unlabelled instructions
  -D, --decimal         Write the disassembly in decimal
  -E ADDR, --end ADDR   Stop converting at this address
  -f N, --fixes N       Apply fixes:
                          N=0: None (default)
                          N=1: @ofix only
                          N=2: @ofix and @bfix
                          N=3: @ofix, @bfix and @rfix (implies -r)
  -H, --hex             Write the disassembly in hexadecimal
  -l, --lower           Write the disassembly in lower case
  -p, --package-dir     Show path to skoolkit package directory and exit
  -P p=v, --set p=v     Set the value of ASM writer property &#39;p&#39; to &#39;v&#39;; this
                        option may be used multiple times
  -q, --quiet           Be quiet
  -r, --rsub            Apply safe substitutions (@ssub) and relocatability
                        substitutions (@rsub) (implies &#39;-f 1&#39;)
  -s, --ssub            Apply safe substitutions (@ssub)
  -S ADDR, --start ADDR
                        Start converting at this address
  -u, --upper           Write the disassembly in upper case
  -V, --version         Show SkoolKit version number and exit
  -w, --no-warnings     Suppress warnings
  -W CLASS, --writer CLASS
                        Specify the ASM writer class to use
</pre></div>
</div>
<p>See <a class="reference internal" href="asm.html#asmmodesanddirectives"><em>ASM modes and directives</em></a> for a description of the <tt class="docutils literal"><span class="pre">&#64;ssub</span></tt> and
<tt class="docutils literal"><span class="pre">&#64;rsub</span></tt> substitution modes, and the <tt class="docutils literal"><span class="pre">&#64;ofix</span></tt>, <tt class="docutils literal"><span class="pre">&#64;bfix</span></tt> and <tt class="docutils literal"><span class="pre">&#64;rfix</span></tt> bugfix
modes.</p>
<p>See the <a class="reference internal" href="asm.html#set"><em>&#64;set</em></a> directive for information on the ASM writer properties that
can be set by the <tt class="docutils literal"><span class="pre">--set</span></tt> option.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.0</td>
<td>Added the <tt class="docutils literal"><span class="pre">--set</span></tt> option</td>
</tr>
<tr class="row-odd"><td>4.5</td>
<td>Added the <tt class="docutils literal"><span class="pre">--start</span></tt> and <tt class="docutils literal"><span class="pre">--end</span></tt> options</td>
</tr>
<tr class="row-even"><td>4.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">--writer</span></tt> option</td>
</tr>
<tr class="row-odd"><td>3.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-V</span></tt> and <tt class="docutils literal"><span class="pre">-p</span></tt> options and the long options</td>
</tr>
<tr class="row-even"><td>2.2.2</td>
<td>Added the ability to read a skool file from standard input</td>
</tr>
<tr class="row-odd"><td>2.1.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">-u</span></tt>, <tt class="docutils literal"><span class="pre">-D</span></tt> and <tt class="docutils literal"><span class="pre">-H</span></tt> options</td>
</tr>
<tr class="row-even"><td>1.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">-c</span></tt> option</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="skool2bin-py">
<span id="id5"></span><h2>skool2bin.py<a class="headerlink" href="#skool2bin-py" title="Permalink to this headline">¶</a></h2>
<p><cite>skool2bin.py</cite> converts a skool file into a binary (raw memory) file. For
example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ skool2bin.py game.skool
</pre></div>
</div>
<p>To list the options supported by <cite>skool2bin.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: skool2bin.py [options] file.skool [file.bin]

Convert a skool file into a binary (raw memory) file. &#39;file.skool&#39; may be a
regular file, or &#39;-&#39; for standard input. If &#39;file.bin&#39; is not given, it
defaults to the name of the input file with &#39;.skool&#39; replaced by &#39;.bin&#39;.
&#39;file.bin&#39; may be a regular file, or &#39;-&#39; for standard output.

Options:
  -b, --bfix            Apply @ofix and @bfix directives
  -E ADDR, --end ADDR   Stop converting at this address
  -i, --isub            Apply @isub directives
  -o, --ofix            Apply @ofix directives
  -s, --ssub            Apply @isub and @ssub directives
  -S ADDR, --start ADDR
                        Start converting at this address
  -V, --version         Show SkoolKit version number and exit
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.2</td>
<td>Added the ability to write the binary file to standard output</td>
</tr>
<tr class="row-odd"><td>5.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">--bfix</span></tt>, <tt class="docutils literal"><span class="pre">--ofix</span></tt> and <tt class="docutils literal"><span class="pre">--ssub</span></tt> options</td>
</tr>
<tr class="row-even"><td>5.0</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="skool2ctl-py">
<span id="id6"></span><h2>skool2ctl.py<a class="headerlink" href="#skool2ctl-py" title="Permalink to this headline">¶</a></h2>
<p><cite>skool2ctl.py</cite> converts a skool file into a <a class="reference internal" href="control-files.html#controlfiles"><em>control file</em></a>.
For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ skool2ctl.py game.skool &gt; game.ctl
</pre></div>
</div>
<p>In addition to block types and addresses, <cite>game.ctl</cite> will contain block titles,
block descriptions, registers, mid-block comments, block start and end
comments, sub-block types and addresses, instruction-level comments, and some
<a class="reference internal" href="asm.html#asmdirectives"><em>ASM directives</em></a>.</p>
<p>To list the options supported by <cite>skool2ctl.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: skool2ctl.py [options] FILE

Convert a skool file into a control file and write it to standard output. FILE
may be a regular file, or &#39;-&#39; for standard input.

Options:
  -b, --preserve-base   Preserve the base of decimal and hexadecimal values in
                        instruction operands and DEFB/DEFM/DEFS/DEFW statements
  -E ADDR, --end ADDR   Stop converting at this address
  -h, --hex             Write addresses in upper case hexadecimal format
  -l, --hex-lower       Write addresses in lower case hexadecimal format
  -S ADDR, --start ADDR
                        Start converting at this address
  -V, --version         Show SkoolKit version number and exit
  -w X, --write X       Write only these elements, where X is one or more of:
                          a = ASM directives
                          b = block types and addresses
                          t = block titles
                          d = block descriptions
                          r = registers
                          m = mid-block comments and block start/end comments
                          s = sub-block types and addresses
                          c = instruction-level comments
</pre></div>
</div>
<p>If you need to preserve any elements that control files do not support (such as
data definition entries and ASM block directives), consider using
<a class="reference internal" href="#skool2sft-py"><em>skool2sft.py</em></a> to create a skool file template instead.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>6.0</td>
<td>Added support for the &#8216;a&#8217; identifier in the <tt class="docutils literal"><span class="pre">--write</span></tt> option</td>
</tr>
<tr class="row-odd"><td>5.1</td>
<td>A terminal <tt class="docutils literal"><span class="pre">i</span></tt> directive is appended if the skool file ends
before 65536</td>
</tr>
<tr class="row-even"><td>4.5</td>
<td>Added the <tt class="docutils literal"><span class="pre">--start</span></tt> and <tt class="docutils literal"><span class="pre">--end</span></tt> options</td>
</tr>
<tr class="row-odd"><td>4.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">--hex-lower</span></tt> option</td>
</tr>
<tr class="row-even"><td>3.7</td>
<td>Added the <tt class="docutils literal"><span class="pre">--preserve-base</span></tt> option</td>
</tr>
<tr class="row-odd"><td>3.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-V</span></tt> option and the long options</td>
</tr>
<tr class="row-even"><td>2.4</td>
<td>Added the ability to preserve some ASM directives</td>
</tr>
<tr class="row-odd"><td>2.2.2</td>
<td>Added the ability to read a skool file from standard input</td>
</tr>
<tr class="row-even"><td>2.0.6</td>
<td>Added the <tt class="docutils literal"><span class="pre">-h</span></tt> option</td>
</tr>
<tr class="row-odd"><td>1.1</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="skool2html-py">
<span id="id7"></span><h2>skool2html.py<a class="headerlink" href="#skool2html-py" title="Permalink to this headline">¶</a></h2>
<p><cite>skool2html.py</cite> converts a skool file (and its associated ref files, if any
exist) into a browsable disassembly in HTML format.</p>
<p>For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ skool2html.py game.skool
</pre></div>
</div>
<p>will convert the file <cite>game.skool</cite> into a bunch of HTML files. If any files
named <cite>game*.ref</cite> (e.g. <cite>game.ref</cite>, <cite>game-bugs.ref</cite>, <cite>game-pokes.ref</cite> and so
on) also exist, they will be used to provide further information to the
conversion process.</p>
<p><cite>skool2html.py</cite> can operate directly on ref files, too. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ skool2html.py game.ref
</pre></div>
</div>
<p>In this case, the skool file declared in the <a class="reference internal" href="ref-files.html#ref-config"><em>[Config]</em></a> section will be
used; if no skool file is declared, <cite>game.skool</cite> will be used if it exists.  In
addition, any existing files besides <cite>game.ref</cite> that are named <cite>game*.ref</cite>
(e.g. <cite>game-bugs.ref</cite>, <cite>game-pokes.ref</cite> and so on) will also be used, along
with any extra files named in the <tt class="docutils literal"><span class="pre">RefFiles</span></tt> parameter in the
<a class="reference internal" href="ref-files.html#ref-config"><em>[Config]</em></a> section.</p>
<p>If an input file&#8217;s name ends with &#8216;.ref&#8217;, it will be treated as a ref file;
otherwise it will be treated as a skool file.</p>
<p><cite>skool2html.py</cite> supports several options; run it with no arguments to see a
list:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: skool2html.py [options] FILE [FILE...]

Convert skool files and ref files to HTML. FILE may be a regular file, or &#39;-&#39;
for standard input.

Options:
  -1, --asm-one-page    Write all routines and data blocks to a single page
  -a, --asm-labels      Use ASM labels
  -c S/L, --config S/L  Add the line &#39;L&#39; to the ref file section &#39;S&#39;; this
                        option may be used multiple times
  -C, --create-labels   Create default labels for unlabelled instructions
  -d DIR, --output-dir DIR
                        Write files in this directory (default is &#39;.&#39;)
  -D, --decimal         Write the disassembly in decimal
  -H, --hex             Write the disassembly in hexadecimal
  -j NAME, --join-css NAME
                        Concatenate CSS files into a single file with this name
  -l, --lower           Write the disassembly in lower case
  -o, --rebuild-images  Overwrite existing image files
  -p, --package-dir     Show path to skoolkit package directory and exit
  -P PAGES, --pages PAGES
                        Write only these pages (when using &#39;--write P&#39;);
                        PAGES is a comma-separated list of page IDs
  -q, --quiet           Be quiet
  -r PREFIX, --ref-sections PREFIX
                        Show default ref file sections whose names start with
                        PREFIX and exit
  -R, --ref-file        Show the entire default ref file and exit
  -s, --search-dirs     Show the locations skool2html.py searches for resources
  -S DIR, --search DIR  Add this directory to the resource search path; this
                        option may be used multiple times
  -t, --time            Show timings
  -T THEME, --theme THEME
                        Use this CSS theme; this option may be used multiple
                        times
  -u, --upper           Write the disassembly in upper case
  -V, --version         Show SkoolKit version number and exit
  -w X, --write X       Write only these files, where X is one or more of:
                          d = Disassembly files   o = Other code
                          i = Disassembly index   P = Other pages
                          m = Memory maps
  -W CLASS, --writer CLASS
                        Specify the HTML writer class to use; shorthand for
                        &#39;--config Config/HtmlWriterClass=CLASS&#39;
</pre></div>
</div>
<p><cite>skool2html.py</cite> searches the following directories for skool files, ref files,
CSS files, JavaScript files, font files, and files listed in the
<a class="reference internal" href="ref-files.html#resources"><em>[Resources]</em></a> section of the ref file:</p>
<ul class="simple">
<li>The directory that contains the skool or ref file named on the command line</li>
<li>The current working directory</li>
<li><cite>./resources</cite></li>
<li><cite>~/.skoolkit</cite></li>
<li><cite>$PACKAGE_DIR/resources</cite></li>
<li>Any other directories specified by the <tt class="docutils literal"><span class="pre">-S</span></tt>/<tt class="docutils literal"><span class="pre">--search</span></tt> option</li>
</ul>
<p>where <cite>$PACKAGE_DIR</cite> is the directory in which the <cite>skoolkit</cite> package is
installed (as shown by <tt class="docutils literal"><span class="pre">skool2html.py</span> <span class="pre">-p</span></tt>). When you need a reminder of these
locations, run <tt class="docutils literal"><span class="pre">skool2html.py</span> <span class="pre">-s</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre">-T</span></tt> option sets the CSS theme. For example, if <cite>game.ref</cite> specifies the
CSS files to use thus:</p>
<div class="highlight-none"><div class="highlight"><pre>[Game]
StyleSheet=skoolkit.css;game.css
</pre></div>
</div>
<p>then:</p>
<div class="highlight-none"><div class="highlight"><pre>$ skool2html.py -T dark -T wide game.ref
</pre></div>
</div>
<p>will use the following CSS files, if they exist, in the order listed:</p>
<ul class="simple">
<li><cite>skoolkit.css</cite></li>
<li><cite>skoolkit-dark.css</cite></li>
<li><cite>skoolkit-wide.css</cite></li>
<li><cite>game.css</cite></li>
<li><cite>game-dark.css</cite></li>
<li><cite>game-wide.css</cite></li>
<li><cite>dark.css</cite></li>
<li><cite>wide.css</cite></li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">--asm-one-page</span></tt> option</td>
</tr>
<tr class="row-odd"><td>5.0</td>
<td>The <tt class="docutils literal"><span class="pre">--theme</span></tt> option also looks for a CSS file whose base name
matches the theme name</td>
</tr>
<tr class="row-even"><td>4.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">--search</span></tt> and <tt class="docutils literal"><span class="pre">--writer</span></tt> options</td>
</tr>
<tr class="row-odd"><td>4.0</td>
<td>Added the <tt class="docutils literal"><span class="pre">--ref-sections</span></tt> and <tt class="docutils literal"><span class="pre">--ref-file</span></tt> options</td>
</tr>
<tr class="row-even"><td>3.6</td>
<td>Added the <tt class="docutils literal"><span class="pre">--join-css</span></tt> and <tt class="docutils literal"><span class="pre">--search-dirs</span></tt> options</td>
</tr>
<tr class="row-odd"><td>3.5</td>
<td>Added support for multiple CSS themes</td>
</tr>
<tr class="row-even"><td>3.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-a</span></tt> and <tt class="docutils literal"><span class="pre">-C</span></tt> options and the long options</td>
</tr>
<tr class="row-odd"><td>3.3.2</td>
<td>Added <cite>$PACKAGE_DIR/resources</cite> to the search path; added the
<tt class="docutils literal"><span class="pre">-p</span></tt> and <tt class="docutils literal"><span class="pre">-T</span></tt> options</td>
</tr>
<tr class="row-even"><td>3.2</td>
<td>Added <cite>~/.skoolkit</cite> to the search path</td>
</tr>
<tr class="row-odd"><td>3.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">-c</span></tt> option</td>
</tr>
<tr class="row-even"><td>3.0.2</td>
<td>No longer shows timings by default; added the <tt class="docutils literal"><span class="pre">-t</span></tt> option</td>
</tr>
<tr class="row-odd"><td>2.3.1</td>
<td>Added support for reading multiple ref files per disassembly</td>
</tr>
<tr class="row-even"><td>2.2.2</td>
<td>Added the ability to read a skool file from standard input</td>
</tr>
<tr class="row-odd"><td>2.2</td>
<td>No longer writes the Skool Daze and Back to Skool disassemblies
by default; added the <tt class="docutils literal"><span class="pre">-d</span></tt> option</td>
</tr>
<tr class="row-even"><td>2.1.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">-l</span></tt>, <tt class="docutils literal"><span class="pre">-u</span></tt>, <tt class="docutils literal"><span class="pre">-D</span></tt> and <tt class="docutils literal"><span class="pre">-H</span></tt> options</td>
</tr>
<tr class="row-odd"><td>2.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">-o</span></tt> and <tt class="docutils literal"><span class="pre">-P</span></tt> options</td>
</tr>
<tr class="row-even"><td>1.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-V</span></tt> option</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="skool2sft-py">
<span id="id8"></span><h2>skool2sft.py<a class="headerlink" href="#skool2sft-py" title="Permalink to this headline">¶</a></h2>
<p><cite>skool2sft.py</cite>  converts a skool file into a
<a class="reference internal" href="skool-file-templates.html#skoolfiletemplates"><em>skool file template</em></a>. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ skool2sft.py game.skool &gt; game.sft
</pre></div>
</div>
<p>To list the options supported by <cite>skool2sft.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: skool2sft.py [options] FILE

Convert a skool file into a skool file template and write it to standard
output. FILE may be a regular file, or &#39;-&#39; for standard input.

Options:
  -b, --preserve-base   Preserve the base of decimal and hexadecimal values in
                        instruction operands and DEFB/DEFM/DEFS/DEFW
                        statements
  -E ADDR, --end ADDR   Stop converting at this address
  -h, --hex             Write addresses in upper case hexadecimal format
  -l, --hex-lower       Write addresses in lower case hexadecimal format
  -S ADDR, --start ADDR
                        Start converting at this address
  -V, --version         Show SkoolKit version number and exit
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.1</td>
<td><tt class="docutils literal"><span class="pre">i</span></tt> blocks are preserved in the same way as code and data
blocks (instead of verbatim)</td>
</tr>
<tr class="row-odd"><td>4.5</td>
<td>Added the <tt class="docutils literal"><span class="pre">--start</span></tt> and <tt class="docutils literal"><span class="pre">--end</span></tt> options</td>
</tr>
<tr class="row-even"><td>4.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">--hex-lower</span></tt> option</td>
</tr>
<tr class="row-odd"><td>3.7</td>
<td>Added the <tt class="docutils literal"><span class="pre">--preserve-base</span></tt> option</td>
</tr>
<tr class="row-even"><td>3.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-V</span></tt> option and the long options</td>
</tr>
<tr class="row-odd"><td>2.4</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sna2img-py">
<span id="id9"></span><h2>sna2img.py<a class="headerlink" href="#sna2img-py" title="Permalink to this headline">¶</a></h2>
<p><cite>sna2img.py</cite> converts the screenshot in a SCR file or SNA/SZX/Z80 snapshot into
a PNG or GIF file. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ sna2img.py game.scr
</pre></div>
</div>
<p>will create a file named <cite>game.png</cite>.</p>
<p>To list the options supported by <cite>sna2img.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: sna2img.py [options] INPUT [OUTPUT]

Convert a Spectrum screenshot (or a portion of it) into a PNG or GIF file.
INPUT may be a SCR file, or a SNA, SZX or Z80 snapshot.

Options:
  -e MACRO, --expand MACRO
                        Expand a #FONT, #SCR, #UDG or #UDGARRAY macro. The &#39;#&#39;
                        prefix may be omitted.
  -f N, --flip N        Flip the image horizontally (N=1), vertically (N=2),
                        or both (N=3).
  -i, --invert          Invert video for cells that are flashing.
  -n, --no-animation    Do not animate flashing cells.
  -o X,Y, --origin X,Y  Top-left crop at (X,Y).
  -p a[-b[-c]],[^+]v, --poke a[-b[-c]],[^+]v
                        POKE N,v for N in {a, a+c, a+2c..., b}. Prefix &#39;v&#39;
                        with &#39;^&#39; to perform an XOR operation, or &#39;+&#39; to
                        perform an ADD operation. This option may be used
                        multiple times.
  -r N, --rotate N      Rotate the image 90*N degrees clockwise.
  -s SCALE, --scale SCALE
                        Set the scale of the image (default=1).
  -S WxH, --size WxH    Crop to this width and height (in tiles).
  -V, --version         Show SkoolKit version number and exit.
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>6.0</td>
<td>Added the <tt class="docutils literal"><span class="pre">--expand</span></tt> option</td>
</tr>
<tr class="row-odd"><td>5.4</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sna2skool-py">
<span id="id10"></span><h2>sna2skool.py<a class="headerlink" href="#sna2skool-py" title="Permalink to this headline">¶</a></h2>
<p><cite>sna2skool.py</cite> converts a binary (raw memory) file or a SNA, SZX or Z80
snapshot into a skool file. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ sna2skool.py game.z80 &gt; game.skool
</pre></div>
</div>
<p>Now <cite>game.skool</cite> can be converted into a browsable HTML disassembly using
<a class="reference internal" href="#skool2html-py"><em>skool2html.py</em></a>, or into an assembler-ready ASM file using
<a class="reference internal" href="#skool2asm-py"><em>skool2asm.py</em></a>.</p>
<p><cite>sna2skool.py</cite> supports several options; run it with no arguments to see a
list:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: sna2skool.py [options] FILE

Convert a binary (raw memory) file or a SNA, SZX or Z80 snapshot into a skool
file. FILE may be a regular file, or &#39;-&#39; for standard input.

Options:
  -c FILE, --ctl FILE   Use FILE as the control file (may be &#39;-&#39; for standard
                        input)
  -e ADDR, --end ADDR   Stop disassembling at this address (default=65536)
  -g FILE, --generate-ctl FILE
                        Generate a control file in FILE
  -h, --ctl-hex         Write upper case hexadecimal addresses in the
                        generated control file
  -H, --skool-hex       Write hexadecimal addresses and operands in the
                        disassembly
  -i, --ctl-hex-lower   Write lower case hexadecimal addresses in the
                        generated control file
  -l L, --defm-size L   Set the maximum number of characters per DEFM
                        statement to L (default=66)
  -L, --lower           Write the disassembly in lower case
  -m M, --defb-mod M    Group DEFB blocks by addresses that are divisible by M
  -M FILE, --map FILE   Use FILE as a code execution map when generating a
                        control file
  -n N, --defb-size N   Set the maximum number of bytes per DEFB statement to
                        N (default=8)
  -o ADDR, --org ADDR   Specify the origin address of a binary (.bin) file
                        (default: 65536 - length)
  -p PAGE, --page PAGE  Specify the page (0-7) of a 128K snapshot to map to
                        49152-65535
  -r, --no-erefs        Don&#39;t add comments that list entry point referrers
  -R, --erefs           Always add comments that list entry point referrers
  -s ADDR, --start ADDR
                        Start disassembling at this address (default=16384)
  -t, --text            Show ASCII text in the comment fields
  -T FILE, --sft FILE   Use FILE as the skool file template (may be &#39;-&#39; for
                        standard input)
  -V, --version         Show SkoolKit version number and exit
  -w W, --line-width W  Set the maximum line width of the skool file (default:
                        79)
  -z, --defb-zfill      Pad decimal values in DEFB statements with leading
                        zeroes
</pre></div>
</div>
<p>If the input filename does not end with &#8216;.sna&#8217;, &#8216;.szx&#8217; or &#8216;.z80&#8217;, it is assumed
to be a binary file.</p>
<p>By default, any <a class="reference internal" href="control-files.html#controlfiles"><em>control file</em></a> or
<a class="reference internal" href="skool-file-templates.html#skoolfiletemplates"><em>skool file template</em></a> whose name (minus the &#8216;.ctl&#8217; or
&#8216;.sft&#8217; suffix) matches the input filename (minus the &#8216;.bin&#8217;, &#8216;.sna&#8217;, &#8216;.szx&#8217; or
&#8216;.z80&#8217; suffix, if any) will be used, if present.</p>
<p>The <tt class="docutils literal"><span class="pre">-M</span></tt> option may be used (in conjunction with the <tt class="docutils literal"><span class="pre">-g</span></tt> option) to
specify a code execution map to use when generating a control file. The
supported file formats are:</p>
<ul class="simple">
<li>Profiles created by the Fuse emulator</li>
<li>Code execution logs created by the SpecEmu, Spud and Zero emulators</li>
<li>Map files created by the SpecEmu and Z80 emulators</li>
</ul>
<p>If the file specified by the <tt class="docutils literal"><span class="pre">-M</span></tt> option is 8192 bytes long, it is assumed to
be a Z80 map file; if it is 65536 bytes long, it is assumed to be a SpecEmu map
file; otherwise it is assumed to be in one of the other supported formats.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.0</td>
<td>Added support for SpecEmu&#8217;s 64K code execution map files</td>
</tr>
<tr class="row-odd"><td>4.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">--ctl-hex-lower</span></tt> and <tt class="docutils literal"><span class="pre">--end</span></tt> options</td>
</tr>
<tr class="row-even"><td>4.3</td>
<td>Added the <tt class="docutils literal"><span class="pre">--line-width</span></tt> option</td>
</tr>
<tr class="row-odd"><td>3.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-V</span></tt> and <tt class="docutils literal"><span class="pre">-R</span></tt> options and the long options</td>
</tr>
<tr class="row-even"><td>3.3</td>
<td>Added the <tt class="docutils literal"><span class="pre">-M</span></tt> option, along with support for code execution
maps produced by Fuse, SpecEmu, Spud, Zero and Z80; added the
ability to read 128K SNA snapshots</td>
</tr>
<tr class="row-odd"><td>3.2</td>
<td>Added the <tt class="docutils literal"><span class="pre">-p</span></tt> option, and the ability to read SZX snapshots
and 128K Z80 snapshots</td>
</tr>
<tr class="row-even"><td>2.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-T</span></tt> option</td>
</tr>
<tr class="row-odd"><td>2.1.2</td>
<td>Added the <tt class="docutils literal"><span class="pre">-L</span></tt> option</td>
</tr>
<tr class="row-even"><td>2.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">-H</span></tt> option</td>
</tr>
<tr class="row-odd"><td>2.0.6</td>
<td>Added the <tt class="docutils literal"><span class="pre">-h</span></tt> option</td>
</tr>
<tr class="row-even"><td>2.0.1</td>
<td>Added the <tt class="docutils literal"><span class="pre">-o</span></tt>, <tt class="docutils literal"><span class="pre">-r</span></tt> and <tt class="docutils literal"><span class="pre">-l</span></tt> options, and the ability to
read binary files</td>
</tr>
<tr class="row-odd"><td>2.0</td>
<td>Added the <tt class="docutils literal"><span class="pre">-n</span></tt>, <tt class="docutils literal"><span class="pre">-m</span></tt> and <tt class="docutils literal"><span class="pre">-z</span></tt> options</td>
</tr>
<tr class="row-even"><td>1.0.5</td>
<td>Added the <tt class="docutils literal"><span class="pre">-t</span></tt> option</td>
</tr>
<tr class="row-odd"><td>1.0.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">-g</span></tt> and <tt class="docutils literal"><span class="pre">-s</span></tt> options</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snapinfo-py">
<span id="id11"></span><h2>snapinfo.py<a class="headerlink" href="#snapinfo-py" title="Permalink to this headline">¶</a></h2>
<p><cite>snapinfo.py</cite> shows information on the registers and RAM in a SNA, SZX or Z80
snapshot. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ snapinfo.py game.z80
</pre></div>
</div>
<p>To list the options supported by <cite>snapinfo.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: snapinfo.py [options] file

Analyse an SNA, SZX or Z80 snapshot.

Options:
  -b, --basic           List the BASIC program
  -f A[,B...[-M[-N]]], --find A[,B...[-M[-N]]]
                        Search for the byte sequence A,B... with distance
                        ranging from M to N (default=1) between bytes
  -p A[-B[-C]], --peek A[-B[-C]]
                        Show the contents of addresses A TO B STEP C; this
                        option may be used multiple times
  -t TEXT, --find-text TEXT
                        Search for a text string
  -T X,Y[-M[-N]], --find-tile X,Y[-M[-N]]
                        Search for the graphic data of the tile at (X,Y) with
                        distance ranging from M to N (default=1) between bytes
  -v, --variables       List variables
  -V, --version         Show SkoolKit version number and exit
  -w A[-B[-C]], --word A[-B[-C]]
                        Show the words at addresses A TO B STEP C; this option
                        may be used multiple times
</pre></div>
</div>
<p>With no options, <cite>snapinfo.py</cite> displays register values, the interrupt mode,
and the border colour. By using one of the options shown above, it can list
the BASIC program and variables (if present), show the contents of a range of
addresses, or search the RAM for a sequence of byte values or a text string.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>6.0</td>
<td>Added support to the <tt class="docutils literal"><span class="pre">--find</span></tt> option for distance ranges; added
the <tt class="docutils literal"><span class="pre">--find-tile</span></tt> and <tt class="docutils literal"><span class="pre">--word</span></tt> options; the <tt class="docutils literal"><span class="pre">--peek</span></tt> option
shows UDGs and BASIC tokens</td>
</tr>
<tr class="row-odd"><td>5.4</td>
<td>Added the <tt class="docutils literal"><span class="pre">--variables</span></tt> option; UDGs in a BASIC program are
shown as special symbols (e.g. <tt class="docutils literal"><span class="pre">{UDG-A}</span></tt>)</td>
</tr>
<tr class="row-even"><td>5.3</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snapmod-py">
<span id="id12"></span><h2>snapmod.py<a class="headerlink" href="#snapmod-py" title="Permalink to this headline">¶</a></h2>
<p><cite>snapmod.py</cite> modifies the registers and RAM in a 48K Z80 snapshot. For
example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ snapmod.py --poke 32768,0 game.z80 poked.z80
</pre></div>
</div>
<p>To list the options supported by <cite>snapmod.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: snapmod.py [options] in.z80 [out.z80]

Modify a 48K Z80 snapshot.

Options:
  -f, --force           Overwrite an existing snapshot.
  -m src,size,dest, --move src,size,dest
                        Move a block of bytes of the given size from src to
                        dest. This option may be used multiple times.
  -p a[-b[-c]],[^+]v, --poke a[-b[-c]],[^+]v
                        POKE N,v for N in {a, a+c, a+2c..., b}. Prefix &#39;v&#39;
                        with &#39;^&#39; to perform an XOR operation, or &#39;+&#39; to
                        perform an ADD operation. This option may be used
                        multiple times.
  -r name=value, --reg name=value
                        Set the value of a register. Do &#39;--reg help&#39; for more
                        information. This option may be used multiple times.
  -s name=value, --state name=value
                        Set a hardware state attribute. Do &#39;--state help&#39; for
                        more information. This option may be used multiple
                        times.
  -V, --version         Show SkoolKit version number and exit.
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.3</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tap2sna-py">
<span id="id13"></span><h2>tap2sna.py<a class="headerlink" href="#tap2sna-py" title="Permalink to this headline">¶</a></h2>
<p><cite>tap2sna.py</cite> converts a TAP or TZX file (which may be inside a zip archive)
into a Z80 snapshot. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ tap2sna.py game.tap game.z80
</pre></div>
</div>
<p>To list the options supported by <cite>tap2sna.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage:
  tap2sna.py [options] INPUT snapshot.z80
  tap2sna.py @FILE

Convert a TAP or TZX file (which may be inside a zip archive) into a Z80
snapshot. INPUT may be the full URL to a remote zip archive or TAP/TZX file,
or the path to a local file. Arguments may be read from FILE instead of (or as
well as) being given on the command line.

Options:
  -d DIR, --output-dir DIR
                        Write the snapshot file in this directory.
  -f, --force           Overwrite an existing snapshot.
  -p STACK, --stack STACK
                        Set the stack pointer.
  --ram OPERATION       Perform a load, move or poke operation on the memory
                        snapshot being built. Do &#39;--ram help&#39; for more
                        information. This option may be used multiple times.
  --reg name=value      Set the value of a register. Do &#39;--reg help&#39; for more
                        information. This option may be used multiple times.
  -s START, --start START
                        Set the start address to JP to.
  --state name=value    Set a hardware state attribute. Do &#39;--state help&#39; for
                        more information. This option may be used multiple
                        times.
  -V, --version         Show SkoolKit version number and exit.
</pre></div>
</div>
<p>Note that support for TZX files is limited to block types 0x10 (standard speed
data), 0x11 (turbo speed data) and 0x14 (pure data).</p>
<p>By default, <cite>tap2sna.py</cite> loads bytes from every data block on the tape, using
the start address given in the corresponding header. For tapes that contain
headerless data blocks, headers with incorrect start addresses, or irrelevant
blocks, the <tt class="docutils literal"><span class="pre">--ram</span></tt> option can be used to load bytes from specific blocks at
the appropriate addresses. For example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ tap2sna.py --ram load=3,30000 game.tzx game.z80
</pre></div>
</div>
<p>loads the third block on the tape at address 30000, and ignores all other
blocks. (To see information on the blocks in a TAP or TZX file, use the
<a class="reference internal" href="#tapinfo-py"><em>tapinfo.py</em></a> command.) The <tt class="docutils literal"><span class="pre">--ram</span></tt> option can also be used to move
blocks of bytes from one location to another, POKE values into individual
addresses or address ranges, and modify memory with XOR and ADD operations
before the snapshot is saved. For more information on the operations that the
<tt class="docutils literal"><span class="pre">--ram</span></tt> option can perform, run:</p>
<div class="highlight-none"><div class="highlight"><pre>$ tap2sna.py --ram help
</pre></div>
</div>
<p>For complex snapshots that require many <tt class="docutils literal"><span class="pre">--ram</span></tt>, <tt class="docutils literal"><span class="pre">--reg</span></tt> or <tt class="docutils literal"><span class="pre">--state</span></tt>
options to build, it may be more convenient to store the arguments to
<cite>tap2sna.py</cite> in a file. For example, if the file <cite>game.t2s</cite> has the following
contents:</p>
<div class="highlight-none"><div class="highlight"><pre>;
; tap2sna.py file for GAME
;
http://example.com/pub/games/GAME.zip
game.z80
--ram load=4,32768         # Load the fourth block at 32768
--ram move=40960,512,43520 # Move 40960-41471 to 43520-44031
--reg pc=34816             # Start at 34816
--reg sp=32768             # Stack at 32768
--state iff=0              # Disable interrupts
</pre></div>
</div>
<p>then:</p>
<div class="highlight-none"><div class="highlight"><pre>$ tap2sna.py @game.t2s
</pre></div>
</div>
<p>will create <cite>game.z80</cite> as if the arguments specified in <cite>game.t2s</cite> had been
given on the command line.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.3</td>
<td>Added the <tt class="docutils literal"><span class="pre">--stack</span></tt> and <tt class="docutils literal"><span class="pre">--start</span></tt> options</td>
</tr>
<tr class="row-odd"><td>4.5</td>
<td>Added support for TZX block type 0x14 (pure data), for loading
the first and last bytes of a tape block, and for modifying
memory with XOR and ADD operations</td>
</tr>
<tr class="row-even"><td>3.5</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tapinfo-py">
<span id="id14"></span><h2>tapinfo.py<a class="headerlink" href="#tapinfo-py" title="Permalink to this headline">¶</a></h2>
<p><cite>tapinfo.py</cite> shows information on the blocks in a TAP or TZX file. For
example:</p>
<div class="highlight-none"><div class="highlight"><pre>$ tapinfo.py game.tzx
</pre></div>
</div>
<p>To list the options supported by <cite>tapinfo.py</cite>, run it with no arguments:</p>
<div class="highlight-none"><div class="highlight"><pre>usage: tapinfo.py FILE

Show the blocks in a TAP or TZX file.

Options:
  -b IDs, --tzx-blocks IDs
                        Show TZX blocks with these IDs only; &#39;IDs&#39; is a comma-
                        separated list of hexadecimal block IDs, e.g. 10,11,2a
  -B N[,A], --basic N[,A]
                        List the BASIC program in block N loaded at address A
                        (default 23755)
  -V, --version         Show SkoolKit version number and exit
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>6.0</td>
<td>Added the <tt class="docutils literal"><span class="pre">--basic</span></tt> option</td>
</tr>
<tr class="row-odd"><td>5.0</td>
<td>New</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="assemblers.html" title="Supported assemblers"
             >next</a> |</li>
        <li class="right" >
          <a href="diy.html" title="Disassembly DIY"
             >previous</a> |</li>
        <li><a href="index.html">SkoolKit 6.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2017, Richard Dymond.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>